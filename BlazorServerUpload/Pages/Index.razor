@page "/"
<PageTitle>文件上传</PageTitle>

<InputFile OnChange="Upload"/>

@inject IHostEnvironment Env
@code {
    bool uploaded;
    async Task Upload(InputFileChangeEventArgs e)
    {
        uploaded = false;
        var path = $"{Env.ContentRootPath}/upload";
        if (!Directory.Exists(path))
        {
            Directory.CreateDirectory(path);
        }

        var fileName = e.File.Name;

        await using FileStream fs = new(path + fileName, FileMode.Create);
        await e.File.OpenReadStream().CopyToAsync(fs);
        uploaded = true;

    }
}